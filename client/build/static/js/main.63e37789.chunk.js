(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{201:function(e,t,a){},202:function(e,t,a){},218:function(e,t,a){},222:function(e,t){},224:function(e,t){},238:function(e,t){},240:function(e,t){},268:function(e,t){},270:function(e,t){},271:function(e,t){},276:function(e,t){},278:function(e,t){},284:function(e,t){},286:function(e,t){},305:function(e,t){},317:function(e,t){},320:function(e,t){},339:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(33),r=a.n(i),o=(a(201),a(202),a(9)),c=a(10),l=a(2),d=a(12),u=a(11),h=a(346),m=a(348),j=a(347),b=a(187),p=a(188),f=a(0),g=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[],search:""},n.handleSearch=n.handleSearch.bind(Object(l.a)(n)),n.SubmitSearch=n.SubmitSearch.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"handleSearch",value:function(e){this.setState({search:e.target.value})}},{key:"SubmitSearch",value:function(){alert(this.state.search),this.props.Searchtext(this.state.search)}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(j.a,{className:"d-flex mb",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(b.a,{onChange:this.handleSearch,value:this.state.search,type:"search",placeholder:"Search Prohandson Courses",className:"mr-2 search_inputfield","aria-label":"Search"}),Object(f.jsx)("div",{id:"search-result",className:"search_results_con"})]}),Object(f.jsx)(p.a,{className:"mx-1",variant:"outline-primary",onClick:function(){return e.props.Searchtext(e.state.search)},children:"Search"})]})}}]),a}(n.Component),O=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[],search:""},n.handleSearch=n.handleSearch.bind(Object(l.a)(n)),n.SubmitSearch=n.SubmitSearch.bind(Object(l.a)(n)),n.createSearchDiv=n.createSearchDiv.bind(Object(l.a)(n)),n.eachCourse=n.eachCourse.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"handleSearch",value:function(e){this.setState({search:e.target.value})}},{key:"SubmitSearch",value:function(e){this.props.parentCallback(e)}},{key:"eachCourse",value:function(e){alert(e)}},{key:"createSearchDiv",value:function(){return this.state.data.map((function(e){e.title,e.name}))}},{key:"render",value:function(){return Object(f.jsxs)(h.a,{bg:"light",expand:"lg",className:"container-fluid px-lg-4",children:[Object(f.jsx)(h.a.Brand,{className:"nav_logo fw-bolder",href:"#",children:"ProHandson"}),Object(f.jsx)(h.a.Toggle,{"aria-controls":"navbarScroll"}),Object(f.jsxs)(h.a.Collapse,{id:"navbarScroll",className:"lg-d-flex justify-content-between",children:[Object(f.jsx)(m.a,{className:"mr-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0}),Object(f.jsx)(g,{Searchtext:this.SubmitSearch}),Object(f.jsxs)("div",{className:"nav_btns mt-lg-0 d-flex float-right justify-content-center",children:[Object(f.jsx)("a",{href:"/Signuptutor",className:"btn btn-primary px-4",children:"Start Coaching"}),Object(f.jsx)("a",{href:"/loginContainer",className:"btn btn-warning px-4 mx-2",children:"Login"}),Object(f.jsx)("a",{href:"/signup",className:"btn btn-danger px-4",children:"Signup"})]})]})]})}}]),a}(s.a.Component),v=a(14),x=(a(41),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).validate=function(){var e="",t="";return n.state.name||(e="name cannot be blank"),n.state.email.includes("@")||(t="invalid email"),!t&&!e||(n.setState({emailError:t,nameError:e}),!1)},e.data&&(window.location.href="/"),n.state={username:"",password:"",tutorName:"",nameError:"",emailError:"",passwordError:""},n.handleEmail=n.handleEmail.bind(Object(l.a)(n)),n.handlePassword=n.handlePassword.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.GotoSignup=n.GotoSignup.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"handleEmail",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.state.username,password:this.state.password})},n=v.b.loading("Please wait...");v.b.update(n,{render:"Loading...",type:"info",isLoading:!0,theme:"colored"}),fetch("/api/student/login",a).then((function(e){return e.json()})).then((function(e){if(e.success){v.b.update(n,{render:e.message,type:"success",isLoading:!1,theme:"colored"}),localStorage.setItem("token",e.token),localStorage.setItem("student_id",e.msg._id);var a=e.msg.first_name+" "+e.msg.last_name;localStorage.setItem("student_name",a),t.setState({tutorName:a}),window.location.href="/"}else v.b.update(n,{render:e.message,type:"error",isLoading:!1,theme:"colored"})}))}},{key:"GotoSignup",value:function(e){e.preventDefault(),window.location.href="/signup"}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{}),Object(f.jsxs)("div",{id:"main-login",children:[Object(f.jsx)("h2",{id:"form-heading",children:"Login to your Account"}),Object(f.jsxs)("form",{id:"main-form",children:[Object(f.jsx)("input",{className:"formInput",value:this.state.username,onChange:this.handleEmail,type:"text",placeholder:"Email",id:"email",htmlFor:"email"}),Object(f.jsx)("input",{className:"formInput",value:this.state.password,onChange:this.handlePassword,type:"password",placeholder:"Password",id:"password",htmlFor:"password"}),Object(f.jsxs)("div",{className:"btn-r text-center",children:[Object(f.jsx)("button",{type:"submit",onClick:this.handleSubmit,id:"btn",children:"Log In"}),Object(f.jsxs)("p",{children:["Don't have an account? ",Object(f.jsx)("span",{children:Object(f.jsx)("a",{href:"/Signup",children:"Sign up"})})]})]})]})]})]})}}]),a}(s.a.Component)),y=a(20),S=a(3),w=a(17),C=a.n(w),N=a(27),k=a(61),_=a.n(k),P=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={rating:"",imageStr:"./uploads/"+e.img,dataLoaded:!1},n.getReviews=n.getReviews.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getReviews()}},{key:"getReviews",value:function(){var e=this;fetch("/api/courses/getReviews/".concat(this.props._id)).then((function(e){return e.json()})).then((function(t){var a;console.log(t);var n=0;t.forEach((function(e){n+=e.rate}));var s=t.length;a=n/s,e.setState({rating:a}),console.log(e.state.rating+"is the rating")}))}},{key:"render",value:function(){console.log(this.state.rating+"bro");var e=this.state.rating;console.log(e+"nos");return Object(f.jsxs)("div",{className:"card_inner",children:[Object(f.jsx)("div",{className:"card_img",children:Object(f.jsx)("img",{src:this.state.imageStr?this.state.imageStr:"dp.jpg",alt:"card-pic"})}),Object(f.jsx)("div",{className:"card_heading mb-3",children:Object(f.jsx)("h5",{children:this.props.title})}),Object(f.jsx)("div",{className:"card_author fw-bold",children:this.props.tutor_id.first_name+" "+this.props.tutor_id.last_name}),Object(f.jsx)("div",{className:"card_reviews fw-light",children:this.state.rating?Object(f.jsxs)("div",{className:"rating_stars",children:[this.state.rating?this.state.rating:Object(f.jsx)("p",{children:"No rating"}),Object(f.jsx)(_.a,{value:1,count:1,size:18,isHalf:!0,edit:!1,activeColor:"#ffd700",classNames:"stars"})]}):Object(f.jsx)("div",{children:"No ratings Yet"})}),Object(f.jsxs)("div",{className:"card_price fw-bold",children:[this.props.price," $"]}),Object(f.jsx)("div",{className:"card_badge",children:"bestseller"})]})}}]),a}(s.a.Component),I=a(345),L=function(){return Object(f.jsxs)(h.a,{bg:"light",expand:"lg",className:"container-fluid px-lg-4",children:[Object(f.jsx)(h.a.Brand,{className:"nav_logo fw-bolder",href:"#",children:"ProHandson"}),Object(f.jsx)(h.a.Toggle,{"aria-controls":"navbarScroll"}),Object(f.jsxs)(h.a.Collapse,{id:"navbarScroll",className:"lg-d-flex justify-content-between",children:[Object(f.jsx)(m.a,{className:"mr-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0}),Object(f.jsx)("div",{className:"nav_btns mt-lg-0 d-flex justify-content-center mx-5",children:Object(f.jsxs)(I.a,{children:[Object(f.jsx)(I.a.Toggle,{variant:"primary",id:"dropdown-basic",className:"px-4 ",children:"Profile"}),Object(f.jsxs)(I.a.Menu,{children:[Object(f.jsx)(I.a.Item,{href:"/tutorpanel",children:"My Courses"}),Object(f.jsx)(I.a.Item,{href:"/editprofile",children:"Edit Profile"}),Object(f.jsx)(I.a.Item,{href:"/changepassword",children:"Change Password"}),Object(f.jsx)(I.a.Item,{href:"/set",children:"Set Availability"}),Object(f.jsx)(I.a.Item,{onClick:function(){localStorage.clear(),window.location.href="/loginTutor"},children:"Log Out"})]})]})})]})]})},A=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return console.log(this.props),Object(f.jsxs)("div",{className:"myCourseCard d-flex",children:[Object(f.jsx)("div",{className:"myCourseCard_pic",children:Object(f.jsx)("img",{src:"/uploads/"+this.props.course_id.img,alt:"card_pic"})}),Object(f.jsxs)("div",{className:"myCourseCard_details",children:[Object(f.jsxs)("h3",{children:["Course: ",this.props.course_id.title]}),Object(f.jsxs)("h4",{children:["Tutor: ",this.props.tutor_id.first_name+" "+this.props.tutor_id.last_name]})]}),Object(f.jsx)("button",{className:"myCourseCard_btn bg-primary fw-bolder text-white btn",children:"View Course"})]})}}]),a}(s.a.Component),T=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).SubmitSearch=n.SubmitSearch.bind(Object(l.a)(n)),n.logout=n.logout.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"SubmitSearch",value:function(e){this.props.parentCallback(e)}},{key:"logout",value:function(){localStorage.clear(),window.location.href="/loginTutor"}},{key:"render",value:function(){return Object(f.jsxs)(h.a,{bg:"light",expand:"lg",className:"container-fluid px-lg-4",children:[Object(f.jsx)(h.a.Brand,{className:"nav_logo fw-bolder",href:"#",children:"ProHandson"}),Object(f.jsx)(h.a.Toggle,{"aria-controls":"navbarScroll"}),Object(f.jsxs)(h.a.Collapse,{id:"navbarScroll",className:"lg-d-flex justify-content-between",children:[Object(f.jsx)(m.a,{className:"mr-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0}),Object(f.jsx)(g,{Searchtext:this.SubmitSearch}),Object(f.jsx)("div",{className:"nav_btns mt-lg-0 d-flex justify-content-center mx-5",children:Object(f.jsxs)(I.a,{children:[Object(f.jsx)(I.a.Toggle,{variant:"primary",id:"dropdown-basic",className:"px-4 ",children:"Profile"}),Object(f.jsxs)(I.a.Menu,{children:[Object(f.jsx)(I.a.Item,{href:"/",children:"Home"}),Object(f.jsx)(I.a.Item,{onClick:this.logout,children:"Log Out"})]})]})})]})]})}}]),a}(s.a.Component),F=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleCallback=function(e){localStorage.setItem("search",e),window.location.href="/searchresults"},n.state={courses:[],img:"",isLoggedIn:!1,mycourses:[],rating:""},n.getCourses=n.getCourses.bind(Object(l.a)(n)),n.getCourses(),n.HandleCategories=n.HandleCategories.bind(Object(l.a)(n)),e.studentLoginVal&&e.data&&n.getStudentCourse(),console.log(e),n}return Object(c.a)(a,[{key:"arrayBufferToBase64",value:function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}},{key:"getCourses",value:function(){var e=this;fetch("/api/courses/getAll").then((function(e){return e.json()})).then((function(t){e.setState({courses:t})}))}},{key:"HandleCategories",value:function(e){var t=this;fetch("/api/tutor/getCourseByCategory/".concat(e.target.innerText)).then((function(e){return e.json()})).then((function(e){console.log(e),t.setState({courses:e.data})}))}},{key:"EachCoursePage",value:function(e){localStorage.setItem("course_id",e),window.location.href="/eachcourse"}},{key:"getStudentCourse",value:function(){var e=this,t=localStorage.getItem("student_id"),a=new Headers;a.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),fetch("/api/course/getEnrolled/".concat(t),{headers:a}).then((function(e){return e.json()})).then((function(t){e.setState({mycourses:t}),console.log(e.state)}))}},{key:"getReviews",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return e=this.props.studentLoginVal&&this.props.data?Object(f.jsx)(T,{parentCallback:this.handleCallback}):!this.props.studentLoginVal&&this.props.data?Object(f.jsx)(L,{}):Object(f.jsx)(O,{parentCallback:this.handleCallback}),Object(f.jsxs)(f.Fragment,{children:[e,Object(f.jsx)("div",{className:"HomeHeader1",children:Object(f.jsx)("div",{className:"innerHomeHeader1 ",children:Object(f.jsx)("div",{className:"innerHomeHeader1Right ",children:Object(f.jsx)("img",{src:"/homepage_banner.jpg",alt:"pic"})})})}),Object(f.jsx)("div",{className:"HomeHeader2 py-3 bg-light",children:Object(f.jsx)("div",{className:"HomeHeader2Text ",children:"Build Professional Relationship while guiding practical Hand-son skills live"})}),console.log(this.props.studentLoginVal),console.log(this.props.data),this.props.studentLoginVal&&this.props.data?Object(f.jsxs)("div",{className:"Home_MyCourses",children:[Object(f.jsx)("h2",{className:"your_courses",children:"Your Courses"}),this.state.mycourses.map((function(e){return Object(f.jsx)(A,Object(S.a)({},e),e._id)}))]}):Object(f.jsx)("div",{}),Object(f.jsx)("h2",{className:"fw-left",children:"Choose Courses"}),Object(f.jsxs)("div",{className:"CategoryBtns ",children:[Object(f.jsx)("button",{onClick:this.getCourses,className:"btn text-white ",children:"Popular"}),Object(f.jsx)("button",{onClick:this.HandleCategories,className:"btn text-white",children:"Music"}),Object(f.jsx)("button",{onClick:this.HandleCategories,className:"btn text-white",children:"IT"}),Object(f.jsx)("button",{onClick:this.HandleCategories,className:"btn text-white",children:"Sports"}),Object(f.jsx)("button",{onClick:this.HandleCategories,className:"btn text-white",children:"Dance"}),Object(f.jsx)("button",{onClick:this.HandleCategories,className:"btn text-white",children:"Animal Care"})]}),Object(f.jsx)("div",{className:"homePageCards",children:this.state.courses.map((function(e){return Object(f.jsx)("div",{className:"card_body  mrg",onClick:function(){return t.EachCoursePage(e._id)},children:Object(f.jsx)(P,Object(S.a)({},e),e._id)})}))}),Object(f.jsxs)("div",{className:"HomeHeader3 bg-light my-3",children:[Object(f.jsx)("div",{className:"fw-bolder",children:"Why Use ProHandson"}),Object(f.jsxs)("div",{className:"",children:["Industry Leading experts guideance will take you from zero skills to excellence.",Object(f.jsx)("br",{}),"Step by Step Guidance tailored to your calendar and other requirements.",Object(f.jsx)("br",{}),"Our premier Screen Sharing application faciliate Monitoring your progress as you are practicing Hands-on.",Object(f.jsx)("br",{}),"Whether you are comfortable with third party sharing device or in-built screen sharing tools."]})]})]})}}]),a}(s.a.Component),E={username:"",password:"",first_name:"",last_name:"",password2:"",email:"",country:"",city:"",errorFName:"",errorLName:"",errorPass:"",errorPass2:"",errorEmail:"",errorCountry:"",errorCity:"",selectValue:""},D=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).validate=function(){var e="",t="",a="",s="",i="",r="",o="";return n.state.first_name||(e="name cannot be blank"),n.state.last_name||(t="name cannot be blank"),n.state.password||(a="password cannot be blank"),n.state.password2||(s="password cannot be blank"),n.state.email||(i="email cannot be blank"),n.state.country||(r="country cannot be blank"),n.state.city||(o="city cannot be blank"),n.state.email.includes("@")||(i="invalid email"),!(e||t||a||s||i||r||o)||(n.setState({errorFname:e,errorLname:t,errorPass:a,errorPass2:s,errorCity:o,errorCountry:r,errorEmail:i}),!1)},e.data&&(window.location.href="/"),n.state={initialState:E},n.handleEmail=n.handleEmail.bind(Object(l.a)(n)),n.handlePassword=n.handlePassword.bind(Object(l.a)(n)),n.handleFirstName=n.handleFirstName.bind(Object(l.a)(n)),n.handleLastName=n.handleLastName.bind(Object(l.a)(n)),n.handleUsername=n.handleUsername.bind(Object(l.a)(n)),n.handlePassword2=n.handlePassword2.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.handleCity=n.handleCity.bind(Object(l.a)(n)),n.handleCountry=n.handleCountry.bind(Object(l.a)(n)),n.GotoLogin=n.GotoLogin.bind(Object(l.a)(n)),n.handleSelect=n.handleSelect.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"handleEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword2",value:function(e){this.setState({password2:e.target.value})}},{key:"handleFirstName",value:function(e){this.setState({first_name:e.target.value})}},{key:"handleLastName",value:function(e){this.setState({last_name:e.target.value})}},{key:"handleSelect",value:function(e){this.setState({selectValue:e.target.value})}},{key:"handleCountry",value:function(e){this.setState({country:e.target.value})}},{key:"handleCity",value:function(e){this.setState({city:e.target.value})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.validate()){console.log(this.state),this.setState(E);var t={first_name:this.state.first_name,last_name:this.state.last_name,email:this.state.email,password:this.state.password,password2:this.state.password2,city:this.state.city,country:this.state.country},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},n=v.b.loading("Please wait...");v.b.update(n,{render:"Loading...",type:"info",isLoading:!0,theme:"colored"}),fetch("/api/student/signup",a).then((function(e){return e.json()})).then((function(e){e.success?(v.b.update(n,{render:e.message,type:"success",isLoading:!1,theme:"colored"}),window.location.href="/loginstudent"):v.b.update(n,{render:e.message,type:"error",isLoading:!1,theme:"colored"})})),console.log(t)}}},{key:"GotoLogin",value:function(e){e.preventDefault(),window.location.href="/loginstudent"}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{}),Object(f.jsxs)("div",{id:"main-login",children:[Object(f.jsx)("h3",{id:"form-heading",children:"Sign Up as Student"}),Object(f.jsxs)("form",{id:"main-form",children:[Object(f.jsx)("input",{className:"formInput",value:this.state.first_name,onChange:this.handleFirstName,placeholder:"FirstName",id:"firstName",htmlFor:"firstName",required:!0}),Object(f.jsx)("div",{style:{fontSize:12,color:"red"},children:this.state.errorFName}),Object(f.jsx)("input",{className:"formInput",value:this.state.last_name,onChange:this.handleLastName,placeholder:"LastName",id:"lastName",htmlFor:"lastName",required:!0}),Object(f.jsx)("input",{className:"formInput",value:this.state.email,onChange:this.handleEmail,placeholder:"Email",id:"email",htmlFor:"email",required:!0}),Object(f.jsx)("input",{className:"formInput",value:this.state.password,onChange:this.handlePassword,placeholder:"Password",id:"password",type:"password",htmlFor:"password",required:!0}),Object(f.jsx)("input",{className:"formInput",value:this.state.password2,onChange:this.handlePassword2,placeholder:"Confirm Password",type:"password",id:"confirmPassword",htmlFor:"password",required:!0}),Object(f.jsx)("input",{className:"formInput",value:this.state.country,onChange:this.handleCountry,placeholder:"Country",id:"country",htmlFor:"country",required:!0}),Object(f.jsx)("input",{className:"formInput",placeholder:"City",value:this.state.city,onChange:this.handleCity,id:"city",htmlFor:"city",required:!0}),Object(f.jsxs)("div",{className:"btn-r text-center ",children:[Object(f.jsx)("button",{onClick:this.handleSubmit,id:"btn",children:"Sign up"}),Object(f.jsxs)("p",{className:"my-2",children:["Already have an account? ",Object(f.jsx)("span",{children:Object(f.jsx)("a",{href:"/Loginstudent",children:"Log In"})})]})]})]})]})]})}}]),a}(s.a.Component),H=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),e.data&&(window.location.href="/"),n.state={username:"",password:"",first_name:"",last_name:"",password2:"",email:"",country:"",city:"",selectValue:""},n.handleEmail=n.handleEmail.bind(Object(l.a)(n)),n.handlePassword=n.handlePassword.bind(Object(l.a)(n)),n.handleFirstName=n.handleFirstName.bind(Object(l.a)(n)),n.handleLastName=n.handleLastName.bind(Object(l.a)(n)),n.handleUsername=n.handleUsername.bind(Object(l.a)(n)),n.handlePassword2=n.handlePassword2.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.handleCity=n.handleCity.bind(Object(l.a)(n)),n.handleCountry=n.handleCountry.bind(Object(l.a)(n)),n.GotoLogin=n.GotoLogin.bind(Object(l.a)(n)),n.handleSelect=n.handleSelect.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"handleEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword2",value:function(e){this.setState({password2:e.target.value})}},{key:"handleFirstName",value:function(e){this.setState({first_name:e.target.value})}},{key:"handleLastName",value:function(e){this.setState({last_name:e.target.value})}},{key:"handleSelect",value:function(e){this.setState({selectValue:e.target.value})}},{key:"handleCountry",value:function(e){this.setState({country:e.target.value})}},{key:"handleCity",value:function(e){this.setState({city:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={first_name:this.state.first_name,last_name:this.state.last_name,city:this.state.city,country:this.state.country,type:this.state.selectValue,email:this.state.email,password:this.state.password,password2:this.state.password2},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("/api/tutor/signup",a).then((function(e){return e.json()})).then((function(e){e.success?(alert(e.message+"\nPlease Login to continue."),window.location.href="/logintutor"):alert("error occured")})),console.log(t)}},{key:"GotoLogin",value:function(e){e.preventDefault(),window.location.href="/login"}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{}),Object(f.jsxs)("div",{id:"main-login",children:[Object(f.jsx)("h3",{id:"form-heading",children:"Sign Up as a Tutor"}),Object(f.jsxs)("form",{id:"main-form",children:[Object(f.jsx)("input",{className:"formInput",value:this.state.first_name,onChange:this.handleFirstName,placeholder:"FirstName",id:"firstName",htmlFor:"firstName"}),Object(f.jsx)("input",{className:"formInput",value:this.state.last_name,onChange:this.handleLastName,placeholder:"LastName",id:"lastName",htmlFor:"lastName"}),Object(f.jsx)("input",{className:"formInput",value:this.state.email,onChange:this.handleEmail,placeholder:"Email",id:"email",htmlFor:"email"}),Object(f.jsx)("input",{className:"formInput",value:this.state.password,onChange:this.handlePassword,placeholder:"Password",id:"password",type:"password",htmlFor:"password"}),Object(f.jsx)("input",{className:"formInput",value:this.state.password2,onChange:this.handlePassword2,placeholder:"Confirm Password",type:"password",id:"confirmPassword",htmlFor:"password"}),Object(f.jsx)("input",{className:"formInput",value:this.state.country,onChange:this.handleCountry,placeholder:"Country",id:"country",htmlFor:"country"}),Object(f.jsx)("input",{className:"formInput",placeholder:"City",value:this.state.city,onChange:this.handleCity,id:"city",htmlFor:"city"}),Object(f.jsxs)(j.a.Select,{value:this.state.selectValue,onChange:this.handleSelect,"aria-label":"Default select example",className:"my-2",children:[Object(f.jsx)("option",{children:"Select Category"}),Object(f.jsx)("option",{value:"IT",children:"IT"}),Object(f.jsx)("option",{value:"Music",children:"Music"}),Object(f.jsx)("option",{value:"Sports",children:"Sports"}),Object(f.jsx)("option",{value:"Dance",children:"Dance"}),Object(f.jsx)("option",{value:"Animal Care",children:"Animal Care"})]}),Object(f.jsxs)("div",{className:"btn-r text-center ",children:[Object(f.jsx)("button",{onClick:this.handleSubmit,id:"btn",children:"Sign up"}),Object(f.jsxs)("p",{className:"my-2",children:["Already have an account? ",Object(f.jsx)("span",{children:Object(f.jsx)("a",{href:"/Logintutor",children:"Log In"})})]})]})]})]})]})}}]),a}(s.a.Component),B=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),console.log(e),n.state={courses:[],students:[],img:"./uploads/"},n.getCourses=n.getCourses.bind(Object(l.a)(n)),n.getStudentCourse=n.getStudentCourse.bind(Object(l.a)(n)),e.data||(window.location.href="/logintutor"),n.props.studentLoginVal&&(window.location.href="/"),n.getCourses(),n.getStudentCourse(),n}return Object(c.a)(a,[{key:"getCourses",value:function(){var e=this,t=localStorage.getItem("tutor_id"),a=new Headers;a.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),fetch("/api/tutor/getCourse/".concat(t),{headers:a}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({courses:t.data}),console.log(e.state)}))}},{key:"getStudentCourse",value:function(){var e=this,t=localStorage.getItem("tutor_id"),a=new Headers;a.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),fetch("/api/tutor/getEnrolled/".concat(t),{headers:a}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({students:t}),console.log(e.state)}))}},{key:"EachCoursePage",value:function(e){localStorage.setItem("course_id",e),window.location.href="/editcourse"}},{key:"AddCourse",value:function(){window.location.href="/addcourse"}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{children:[Object(f.jsx)(L,{}),Object(f.jsx)("div",{className:"tutorHeading mt-3",children:Object(f.jsx)("h1",{children:"Welcome Mentor"})}),Object(f.jsxs)("div",{className:"tutorMain",children:[Object(f.jsx)("h3",{className:"text-left float-left",children:"All skills..."}),Object(f.jsxs)("div",{className:"tutorCourses",children:[this.state.courses.map((function(t){return Object(f.jsx)("div",{className:"card_body col-lg-2 col-md-4 col-sm-12",onClick:function(){return e.EachCoursePage(t._id)},children:Object(f.jsx)(P,Object(S.a)({},t),t._id)})})),Object(f.jsxs)("button",{onClick:this.AddCourse,className:"addCourseBtn text-white",children:["+",Object(f.jsx)("h4",{children:"Add Course"})]}),Object(f.jsx)("hr",{})]}),Object(f.jsx)("hr",{})]})]})}}]),a}(s.a.Component),R=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={title:"",price:"",paymentId:"",description:"",category:"",file:null,img:"",paymentVerified:!1},e.data||(window.location.href="/logintutor"),n.props.studentLoginVal&&(window.location.href="/"),n.handleTitle=n.handleTitle.bind(Object(l.a)(n)),n.handlePrice=n.handlePrice.bind(Object(l.a)(n)),n.handleDescp=n.handleDescp.bind(Object(l.a)(n)),n.handleCategory=n.handleCategory.bind(Object(l.a)(n)),n.handleFile=n.handleFile.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.handleStripe=n.handleStripe.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.StripeAccountVerified()}},{key:"StripeAccountVerified",value:function(){var e=this,t=new Headers;t.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),fetch("/api/tutor/".concat(localStorage.tutor_id),{headers:t}).then((function(e){return e.json()})).then((function(t){console.log(t),t.success&&(e.setState({paymentId:t.data.stripe_id}),console.log(e.state.paymentVerified),fetch("/api/stripeRetriveAccount/".concat(t.data.stripe_id)).then((function(e){return e.json()})).then((function(t){t.details_submitted&&t.payouts_enabled&&e.setState({paymentVerified:!0})})))}))}},{key:"arrayBufferToBase64",value:function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}},{key:"handleTitle",value:function(e){this.setState({title:e.target.value})}},{key:"handlePrice",value:function(e){this.setState({price:e.target.value})}},{key:"handleDescp",value:function(e){this.setState({description:e.target.value})}},{key:"handleCategory",value:function(e){this.setState({category:e.target.value})}},{key:"handleFile",value:function(e){this.setState({file:e.target.files[0]})}},{key:"handleStripe",value:function(){fetch("/api/stripeAccountVerified/".concat(this.state.paymentId)).then((function(e){return e.json()})).then((function(e){console.log(e),window.location.href=e.url}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData,a=localStorage.getItem("tutor_id");t.append("file",this.state.file,this.state.file.name),t.append("title",this.state.title),t.append("price",this.state.price),t.append("description",this.state.description),t.append("category",this.state.category),t.append("tutor_id",a),t.append("name",localStorage.getItem("tutor_name"));var n=new Headers;n.append("Authorization","Bearer ".concat(localStorage.getItem("token")));var s={method:"POST",headers:n,body:t},i=v.b.loading("Please wait...");v.b.update(i,{render:"Loading...",type:"info",isLoading:!0,theme:"colored"}),fetch("/api/tutor/addCourse",s).then((function(e){return e.json()})).then((function(e){e.success||v.b.update(i,{render:e.message,type:"success",isLoading:!1,theme:"colored"}),window.location.href="/tutorpanel"})),console.log(this.state)}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(L,{}),this.state.paymentVerified?Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Add Course"}),Object(f.jsxs)("form",{className:"add-form",children:[Object(f.jsxs)(j.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(f.jsx)(j.a.Label,{children:"Choose The Course Banner"}),Object(f.jsx)(j.a.Control,{onChange:this.handleFile,type:"file"})]}),Object(f.jsx)("input",{className:"formInput",value:this.state.title,onChange:this.handleTitle,placeholder:"skill Name",id:"courseName",for:"courseName"}),Object(f.jsx)("input",{className:"formInput",value:this.state.price,onChange:this.handlePrice,placeholder:"Price $",id:"Price",for:"Price"}),Object(f.jsx)("textarea",{name:"description",value:this.state.description,onChange:this.handleDescp,id:"description",for:"description",placeholder:"description",cols:"30",rows:"10"}),Object(f.jsxs)(j.a.Select,{value:this.state.category,onChange:this.handleCategory,"aria-label":"Default select example",className:"my-2",children:[Object(f.jsx)("option",{children:"Select Category"}),Object(f.jsx)("option",{value:"IT",children:"IT"}),Object(f.jsx)("option",{value:"Music",children:"Music"}),Object(f.jsx)("option",{value:"Sports",children:"Sports"}),Object(f.jsx)("option",{value:"Dance",children:"Dance"}),Object(f.jsx)("option",{value:"Animal Care",children:"Animal Care"})]}),Object(f.jsx)("div",{className:"btn-r text-center ",children:Object(f.jsx)("button",{onClick:this.handleSubmit,id:"btn",children:"Add skill"})})]})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Account not verified"}),Object(f.jsx)("button",{className:"btn btn-primary",onClick:this.handleStripe,children:"Click here to verify your account to receive payments"})]})]})}}]),a}(s.a.Component),V=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={message:"",rating:""},n.handleText=n.handleText.bind(Object(l.a)(n)),n.submitReview=n.submitReview.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"handleText",value:function(e){this.setState({message:e.target.value})}},{key:"submitReview",value:function(){var e=v.b.loading("Please wait..."),t=new Headers;t.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),t.append("Content-Type","application/json"),fetch("/api/course/rating",{headers:t,body:JSON.stringify({message:this.state.message,rate:this.state.rating,date:new Date,student_id:localStorage.student_id,course_id:localStorage.course_id}),method:"POST"}).then((function(e){return e.json()})).then((function(t){console.log(t),v.b.update(e,{render:t.message,type:"success",isLoading:!1,theme:"colored"})}))}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"Reviews_container",children:[Object(f.jsx)("h4",{className:"fw-bolder",children:"Leave a review"}),Object(f.jsxs)("div",{className:"stars_container",children:[Object(f.jsx)("p",{children:"Give the stars"}),Object(f.jsx)(_.a,{count:5,onChange:function(t){console.log(t),e.setState({rating:t})},size:36,activeColor:"#ffd700",classNames:"stars"})]}),Object(f.jsxs)("div",{className:"d-flex review_input",children:[Object(f.jsx)("label",{htmlFor:"Review",children:"Write Your Review"}),Object(f.jsx)("textarea",{value:this.state.message,onChange:this.handleText,name:"Review_area",id:"Review_area",placeholder:"Write your Review here here",cols:"30",rows:"10",children:this.state.message})]}),Object(f.jsx)("button",{onClick:this.submitReview,className:"btn-primary mt-3 border-none review_submit",children:"Submit"})]})}}]),a}(n.Component),M=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"EachReview_container",children:[Object(f.jsx)("h5",{className:"fw-bold",children:this.props.reviews.student_id.first_name+this.props.reviews.student_id.last_name}),Object(f.jsx)(_.a,{count:5,value:this.props.reviews.rate,edit:!1,size:30,activeColor:"#ffd700",classNames:"starsReview"}),Object(f.jsx)("p",{className:"eachReviewPara fw-smaller",children:this.props.reviews.message}),Object(f.jsx)("hr",{})]})}}]),a}(n.Component),U=function(e){return Object(f.jsx)("div",{className:"AllReviews",children:Object(f.jsx)(M,{reviews:e})})},z=a(192),G=a.n(z),J=a(15),q=a(87),W=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).addAppointmentCallback=function(e){var t=e.addedAppointment,a=t.day,s=t.number,i=t.time,r=t.id,o=e.addCb;n.setState({loading:!0},Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,200)}));case 2:console.log("Added appointment ".concat(s,", day ").concat(a,", time ").concat(i,", id ").concat(r)),o(a,s,i,r),n.setState({loading:!1});case 5:case"end":return e.stop()}}),e)})))),console.log(i),n.state.dateTime={date:a,time:i,tutor_id:localStorage.tutor_id,isReserved:!0},n.state.SelectedDates.push(n.state.dateTime),n.state.SelectedDates.forEach((function(e){console.log(e)}))},n.removeAppointmentCallback=function(e,t){var a=e.day,s=e.number,i=e.time,r=e.id;n.setState({loading:!0},Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,200)}));case 2:console.log("Removed appointment ".concat(s,", day ").concat(a,", time ").concat(i,", id ").concat(r)),t(a,s),n.setState({loading:!1});case 5:case"end":return e.stop()}}),e)}))))},n.addAppointmentCallbackContinuousCase=function(e){var t=e.addedAppointment,a=t.day,s=t.number,i=t.time,r=t.id,o=e.addCb,c=e.removedAppointment,l=e.removeCb;n.setState({continuousLoading:!0},Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=5;break}return e.next=3,new Promise((function(e){return setTimeout(e,1e3)}));case 3:console.log("Removed appointment ".concat(c.number,", day ").concat(c.day,", time ").concat(c.time,", id ").concat(c.id)),l(c.day,c.number);case 5:return e.next=7,new Promise((function(e){return setTimeout(e,1e3)}));case 7:console.log("Added appointment ".concat(s,", day ").concat(a,", time ").concat(i,", id ").concat(r)),o(a,s,i,r),n.setState({continuousLoading:!1});case 10:case"end":return e.stop()}}),e)}))))},n.removeAppointmentCallbackContinuousCase=function(e,t){var a=e.day,s=e.number,i=e.time,r=e.id;n.setState({continuousLoading:!0},Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,2e3)}));case 2:console.log("Removed appointment ".concat(s,", day ").concat(a,", time ").concat(i,", id ").concat(r)),t(a,s),n.setState({continuousLoading:!1});case 5:case"end":return e.stop()}}),e)}))))},n.state={loading:!1,continuousLoading:!1,SelectedDates:[],dateIDS:[],dateTime:{}},n.addAppointmentCallback=n.addAppointmentCallback.bind(Object(l.a)(n)),n.addAppointmentCallbackContinuousCase=n.addAppointmentCallbackContinuousCase.bind(Object(l.a)(n)),n.removeAppointmentCallback=n.removeAppointmentCallback.bind(Object(l.a)(n)),n.removeAppointmentCallbackContinuousCase=n.removeAppointmentCallbackContinuousCase.bind(Object(l.a)(n)),n.getAppointmentDates=n.getAppointmentDates.bind(Object(l.a)(n)),n.getAppointmentDates(),n}return Object(c.a)(a,[{key:"getAppointmentDates",value:function(){var e=this;fetch("/api/getAppointment/".concat(this.props.tutor_id)).then((function(e){return e.json()})).then((function(t){console.log(t),t.data&&e.setState({dateIDS:t.data.id})}))}},{key:"render",value:function(){for(var e,t=this,a=[],n=1,s=0;s<7;s++)a.push([]);a.map((function(e){for(var t=0;t<48;t++)e.push({id:n,number:t,isReserved:!0}),n++})),console.log(a);console.log(this.state.dateIDS),this.state.dateIDS.forEach((function(e){console.log(e+"you")})),a.map((function(e){e.map((function(e){t.state.dateIDS.forEach((function(t){t==e.id&&(console.log(t+"we won mr stark"),e.isReserved=!1)}))}))}));var i=this.state,r=i.loading,o=(i.continuousLoading,new Date);return o.setHours(8,0,0,0),Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"my-4",children:"Choose your 30 Minutes Trial "}),Object(f.jsxs)("div",{className:" set_container",children:[Object(f.jsx)("h5",{className:"fw-lighter mb-3",children:"All times listed are in your local timezone"}),Object(f.jsx)(q.a,(e={addAppointmentCallback:this.addAppointmentCallback,removeAppointmentCallback:this.removeAppointmentCallback,initialDay:o,unitTime:15601e3,days:a,maxReservableAppointments:1,alpha:!0},Object(J.a)(e,"alpha",!1),Object(J.a)(e,"visible",!0),Object(J.a)(e,"selectedByDefault",!0),Object(J.a)(e,"loading",r),Object(J.a)(e,"unitTime",18e5),e))]})]})}}]),a}(s.a.Component),Y=a(51),Q=a(193),Z=a(13);a(218);function K(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),s=a[0],i=a[1],r=Object(n.useState)(null),o=Object(Z.a)(r,2),c=o[0],l=o[1],d=Object(n.useState)(""),u=Object(Z.a)(d,2),h=u[0],m=u[1],j=Object(n.useState)(!0),b=Object(Z.a)(j,2),p=b[0],g=b[1],O=Object(n.useState)(""),x=Object(Z.a)(O,2),y=x[0],S=x[1],w=Object(Y.useStripe)(),k=Object(Y.useElements)();Object(n.useEffect)((function(){window.fetch("/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({price:e.price,cust_id:e.cust_id,email:e.tutor_id.email})}).then((function(e){return e.json()})).then((function(e){S(e.client_secret),console.log(e)}))}),[]);var _=function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t.empty),l(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var t=Object(N.a)(C.a.mark((function t(a){var n,s,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=v.b.loading("Please wait..."),a.preventDefault(),m(!0),console.log(e),console.log(y),t.next=7,w.confirmCardPayment(y,{payment_method:{card:k.getElement(Y.CardElement)}});case 7:(s=t.sent).error?(l("Payment failed ".concat(s.error.message)),m(!1)):(l(null),m(!1),i(!0),(r=new Headers).append("Authorization","Bearer ".concat(localStorage.getItem("token"))),r.append("Content-Type","application/json"),o={method:"POST",contentType:"application/json",headers:r,body:JSON.stringify({course_id:localStorage.course_id,student_id:localStorage.student_id,tutor_id:e.tutor_id._id,is_active:!1})},fetch("/api/student/enroll",o).then((function(e){return e.json()})).then((function(e){e.succes?(v.b.update(n,{render:e.message,type:"success",isLoading:!1,theme:"colored"}),window.location.href="/"):v.b.update(n,{render:e.message,type:"error",isLoading:!1,theme:"colored"})})));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsxs)("form",{id:"payment-form",onSubmit:P,children:[Object(f.jsx)(Y.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:_}),Object(f.jsx)("button",{disabled:h||p||s,id:"submit",children:Object(f.jsx)("span",{id:"button-text",children:h?Object(f.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})}),c&&Object(f.jsx)("div",{className:"card-error",role:"alert",children:c}),Object(f.jsx)("p",{className:s?"result-message":"result-message hidden",children:"Payment succeeded, You are now successfully enrolled in that course"})]})}var $=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handlePayment=function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({showPaymentPage:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleOpenModal=n.handleOpenModal.bind(Object(l.a)(n)),n.handleCloseModal=n.handleCloseModal.bind(Object(l.a)(n)),n.state={course:{},reviews:[],isReviewed:!1,imageStr:"./uploads/",profileImg:"./uploads/profiles/",isEnroll:!1,completed:!1,showModal:!1,showPaymentPage:!1,cust_id:"",tutor_id:"",stripePromise:Object(Q.a)("pk_test_51JfrS5JYZfgfoVPyWJrvgJsQtYCWNKx3c41UFQVNbJdqVuUpsf5n2hyZ9RW4ynUyHfXFcQNQomyPiBwFrhnjTaKM00PSiZS6Mk")},n.LoadCourse=n.LoadCourse.bind(Object(l.a)(n)),n.handleEnroll=n.handleEnroll.bind(Object(l.a)(n)),n.handlePayment=n.handlePayment.bind(Object(l.a)(n)),n.getStudentData=n.getStudentData.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.LoadCourse(),this.getStudentData()}},{key:"handleOpenModal",value:function(){this.props.data?this.setState({showModal:!0}):(alert("please login to continue"),window.location.href="/loginstudent")}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"LoadCourse",value:function(){var e=this,t=localStorage.getItem("course_id");fetch("/api/course/getCourse/".concat(t)).then((function(e){return e.json()})).then((function(a){if(e.setState({course:a.data}),e.setState({tutor_id:a.data.tutor_id._id}),e.props.data){var n=new Headers;n.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),fetch("/api/enroll/getStudentCourse/".concat(localStorage.student_id,"/").concat(t),{headers:n}).then((function(e){return e.json()})).then((function(t){t&&(e.setState({isEnroll:!0}),t.is_active&&(e.setState({isEnroll:!1}),e.setState({completed:!0})),console.log(t),console.log(a))}))}fetch("/api/courses/getReviews/".concat(t)).then((function(e){return e.json()})).then((function(a){a&&(e.props.data&&a.map((function(a){a.student_id._id==localStorage.student_id&&a.course_id==t&&e.setState({isReviewed:!0})})),e.setState({reviews:a}))}))}))}},{key:"getStudentData",value:function(){var e=this;if(localStorage.student_id){var t=new Headers;t.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),fetch("/api/student/".concat(localStorage.student_id),{headers:t}).then((function(e){return e.json()})).then((function(t){console.log(t),t.success&&e.setState({cust_id:t.data.cust_id})}))}}},{key:"handleEnroll",value:function(e){if(this.props.data){var t=new Headers;t.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),t.append("Content-Type","application/json");var a=new FormData;a.append("course_id",e),a.append("student_id",localStorage.getItem("student_id")),a.append("is_active",!1);var n={method:"POST",contentType:"application/json",headers:t,body:JSON.stringify({course_id:e,student_id:localStorage.getItem("student_id"),tutor_id:this.state.course.tutor_id._id,is_active:!1})};fetch("/api/student/enroll",n).then((function(e){return e.json()})).then((function(e){e.succes?(alert(e.message),window.location.href="/"):alert(e.message)}))}else alert("please login to continue"),window.location.href="/loginstudent"}},{key:"MarkAsComplete",value:function(e){var t=v.b.loading("Please wait..."),a=new Headers;a.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),fetch("/api/enroll/markAsComplete/".concat(localStorage.student_id,"/").concat(e),{headers:a,method:"PUT"}).then((function(e){return e.json()})).then((function(e){e.success?(v.b.update(t,{render:e.message,type:"success",isLoading:!1,theme:"colored"}),window.location.href="/eachcourse"):v.b.update(t,{render:e.message,type:"error",isLoading:!1,theme:"colored"})}))}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(L,{}),Object(f.jsxs)("div",{className:"container-fluid eachCourseBanner text-white d-flex ",children:[Object(f.jsxs)("div",{className:"eachCouseBannerLeft col-lg-6",children:[Object(f.jsx)("h3",{className:"eachCourseCategory fw-bolder mb-3",children:this.state.course.title}),Object(f.jsx)("h5",{className:"eachCourseName  my-4"}),Object(f.jsxs)("p",{className:"bannerTutorDetail my-3",children:[Object(f.jsx)("span",{children:this.state.course.tutor_id?Object(f.jsx)("img",{src:this.state.profileImg+this.state.course.tutor_id.img,alt:"tutor pic"}):Object(f.jsx)("img",{src:this.state.profileImg+this.state.course.img,alt:"tutor pic"})}),Object(f.jsx)("span",{children:this.state.course.name})]}),this.state.isEnroll?Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{disabled:!0,className:"eachCourseEnroll mt-3",children:"Enrolled"}),Object(f.jsx)("button",{onClick:function(){return e.MarkAsComplete(e.state.course._id)},className:"eachCourseEnroll mt-3",children:"Mark as Complete"})]}):Object(f.jsx)("button",{onClick:this.handleOpenModal,className:"eachCourseEnroll mt-3",children:"Enroll Now"}),Object(f.jsxs)(G.a,{isOpen:this.state.showModal,contentLabel:"Minimal Modal Example",children:[Object(f.jsx)("button",{onClick:this.handleCloseModal,className:"btn btn-danger",children:"Close"}),this.state.showPaymentPage?Object(f.jsxs)("div",{className:"modal_payment",children:[Object(f.jsx)("h1",{children:"Enter your Credit Card Info"}),Object(f.jsx)("label",{htmlFor:"card-element",children:"Enter your credit card information so that the course can be enrolled. Prohandson provide secure payment through stripe"}),Object(f.jsx)(Y.Elements,{className:"modal_payment_inner",stripe:this.state.stripePromise,children:Object(f.jsx)(K,{price:this.state.course.price,cust_id:this.state.cust_id,tutor_id:this.state.course.tutor_id})})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){return e.handlePayment(e.state.course._id)},className:"btn btn-success",children:"Enroll"})}),Object(f.jsx)(W,{tutor_id:this.state.tutor_id})]})]})]}),Object(f.jsx)("div",{className:"eachCouseBannerRightt",children:Object(f.jsx)("img",{className:"bannerTutorPic",src:this.state.imageStr+this.state.course.img,alt:"coursepic"})})]}),this.state.completed&&!this.state.isReviewed?Object(f.jsx)(V,{}):Object(f.jsx)("div",{}),this.state.reviews.map((function(e){return Object(n.createElement)(U,Object(S.a)(Object(S.a)({},e),{},{key:e._id}))})),Object(f.jsxs)("div",{className:"eachCourseDetails",children:[Object(f.jsx)("h4",{className:"eachCourseDetailsHeading",children:"What you'll learn"}),Object(f.jsx)("p",{className:"eachCourseDetailsPara",children:this.state.course.description})]}),Object(f.jsxs)("div",{className:"eachCourseTutor",children:[Object(f.jsx)("h3",{className:"mb-3",children:"Tutor"}),Object(f.jsxs)("div",{className:"eachCourseTutorInner d-flex",children:[this.state.course.tutor_id?Object(f.jsx)("img",{src:this.state.profileImg+this.state.course.tutor_id.img,alt:"tutor pic"}):Object(f.jsx)("img",{src:this.state.profileImg+this.state.course.img,alt:"tutor pic"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:this.state.course.name}),Object(f.jsx)("h5",{children:this.state.course.category})]})]})]})]})}}]),a}(s.a.Component),X=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{}),Object(f.jsxs)("div",{className:"loginContainer",children:[Object(f.jsx)("button",{className:"loginBox leftBox",children:Object(f.jsx)("a",{href:"/loginStudent",children:"Login as Student"})}),Object(f.jsx)("button",{className:"loginBox rightBox",children:Object(f.jsx)("a",{href:"/loginTutor",children:"Login as Tutor"})})]})]})},ee=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),e.data&&(window.location.href="/"),n.state={username:"",password:"",tutorName:""},n.handleEmail=n.handleEmail.bind(Object(l.a)(n)),n.handlePassword=n.handlePassword.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.GotoSignup=n.GotoSignup.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"handleEmail",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.state.username,password:this.state.password})},n=v.b.loading("Please wait...");v.b.update(n,{render:"Loading...",type:"info",isLoading:!0,theme:"colored"}),fetch("/api/tutor/login",a).then((function(e){return e.json()})).then((function(e){if(e.success){v.b.update(n,{render:e.message,type:"success",isLoading:!1,theme:"colored"}),localStorage.setItem("token",e.token),localStorage.setItem("tutor_id",e.msg._id);var a=e.msg.first_name+" "+e.msg.last_name;localStorage.setItem("tutor_name",a),t.setState({tutorName:a}),window.location.href="/tutorpanel"}else v.b.update(n,{render:e.message,type:"error",isLoading:!1,theme:"colored"})}))}},{key:"GotoSignup",value:function(e){e.preventDefault(),window.location.href="/signup"}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{}),Object(f.jsxs)("div",{id:"main-login",children:[Object(f.jsx)("h2",{id:"form-heading",children:"Log In as Tutor"}),Object(f.jsxs)("form",{id:"main-form",children:[Object(f.jsx)("input",{className:"formInput",type:"text",value:this.state.username,onChange:this.handleEmail,placeholder:"Email",id:"email",htmlFor:"email"}),Object(f.jsx)("input",{className:"formInput",type:"password",value:this.state.password,onChange:this.handlePassword,placeholder:"Password",id:"password",htmlFor:"password"}),Object(f.jsxs)("div",{className:"btn-r text-center",children:[Object(f.jsx)("button",{type:"submit",onClick:this.handleSubmit,id:"btn",children:"Log In"}),Object(f.jsxs)("p",{children:["Don't have an account? ",Object(f.jsx)("span",{children:Object(f.jsx)("a",{href:"/Signuptutor",children:"Sign up"})})]})]})]})]})]})}}]),a}(s.a.Component),te=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),e.data||(window.location.href="/logintutor"),n.state={username:"",password:"",first_name:"",last_name:"",password2:"",email:"",country:"",city:"",selectValue:"",imageStr:"./uploads/profiles/",img:"",file:null},n.handleEmail=n.handleEmail.bind(Object(l.a)(n)),n.handlePassword=n.handlePassword.bind(Object(l.a)(n)),n.handleFirstName=n.handleFirstName.bind(Object(l.a)(n)),n.handleLastName=n.handleLastName.bind(Object(l.a)(n)),n.handleUsername=n.handleUsername.bind(Object(l.a)(n)),n.handlePassword2=n.handlePassword2.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.handleCity=n.handleCity.bind(Object(l.a)(n)),n.handleCountry=n.handleCountry.bind(Object(l.a)(n)),n.handleFile=n.handleFile.bind(Object(l.a)(n)),n.handleSelect=n.handleSelect.bind(Object(l.a)(n)),n.getUser=n.getUser.bind(Object(l.a)(n)),n.getUser(),n}return Object(c.a)(a,[{key:"getUser",value:function(){var e=this;if(localStorage.tutor_id){(a=new Headers).append("Authorization","Bearer ".concat(localStorage.getItem("token")));var t=localStorage.getItem("tutor_id");t&&fetch("/api/tutor/".concat(t),{headers:a}).then((function(e){return e.json()})).then((function(t){e.setState({first_name:t.data.first_name,last_name:t.data.last_name,email:t.data.email,country:t.data.country,city:t.data.city,img:t.data.img})})),console.log(this.state.imageStr),console.log(this.state.img)}else if(localStorage.student_id){var a;(a=new Headers).append("Authorization","Bearer ".concat(localStorage.getItem("token"))),a.append("Content-Type","application/json"),fetch("/api/student/".concat(localStorage.student_id),{headers:a}).then((function(e){return e.json()})).then((function(t){e.setState({first_name:t.data.first_name,last_name:t.data.last_name,email:t.data.email,country:t.data.country,city:t.data.city,img:t.data.img}),console.log(t)}))}}},{key:"handleEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword2",value:function(e){this.setState({password2:e.target.value})}},{key:"handleFirstName",value:function(e){this.setState({first_name:e.target.value})}},{key:"handleLastName",value:function(e){this.setState({last_name:e.target.value})}},{key:"handleSelect",value:function(e){this.setState({selectValue:e.target.value})}},{key:"handleCountry",value:function(e){this.setState({country:e.target.value})}},{key:"handleCity",value:function(e){this.setState({city:e.target.value})}},{key:"handleFile",value:function(e){this.setState({file:e.target.files[0]})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData,a=new Headers;if(a.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),localStorage.tutor_id){var n=localStorage.getItem("tutor_id");this.state.file&&t.append("file",this.state.file,this.state.file.name),t.append("first_name",this.state.first_name),t.append("last_name",this.state.last_name),t.append("email",this.state.email),t.append("city",this.state.city),t.append("country",this.state.country);var s={method:"PUT",headers:a,body:t};fetch("/api/tutorUpdate/".concat(n),s).then((function(e){return e.json()})).then((function(e){e.success?(alert(e.message),window.location.href="/editprofile"):alert(e.message)}))}else if(localStorage.student_id){var i=localStorage.getItem("student_id");this.state.file&&t.append("file",this.state.file,this.state.file.name),t.append("first_name",this.state.first_name),t.append("last_name",this.state.last_name),t.append("email",this.state.email),t.append("city",this.state.city),t.append("country",this.state.country);var r={method:"PUT",headers:a,body:t};fetch("/api/StudentUpdate/".concat(i),r).then((function(e){return e.json()})).then((function(e){e.success?(alert(e.message),window.location.href="/editprofile"):alert(e.message)}))}}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"mb-4",children:[Object(f.jsx)(L,{}),Object(f.jsx)("div",{className:"EditProfile_top d-flex mt-4",children:Object(f.jsxs)("div",{className:"EditProfile_left",children:[Object(f.jsx)("h4",{children:Object(f.jsx)("a",{href:"/tutorPanel",children:" My Profile "})}),Object(f.jsx)("h4",{children:" > "}),Object(f.jsx)("h4",{children:"Edit Profile"})]})}),Object(f.jsxs)("form",{id:"main-form",className:"editProfile_form",children:[Object(f.jsx)("div",{className:"eachCouseBannerRight",children:Object(f.jsx)("img",{className:"bannerTutorPic",src:this.state.img?this.state.imageStr+this.state.img:"dp.jpg",alt:"coursepic"})}),Object(f.jsxs)(j.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(f.jsx)(j.a.Label,{children:"Choose The Profile Picture"}),Object(f.jsx)(j.a.Control,{onChange:this.handleFile,type:"file"})]}),Object(f.jsx)("input",{className:"formInput",value:this.state.first_name,onChange:this.handleFirstName,placeholder:"FirstName",id:"firstName",htmlFor:"firstName"}),Object(f.jsx)("input",{className:"formInput",value:this.state.last_name,onChange:this.handleLastName,placeholder:"LastName",id:"lastName",htmlFor:"lastName"}),Object(f.jsx)("input",{className:"formInput",value:this.state.email,onChange:this.handleEmail,placeholder:"Email",id:"email",htmlFor:"email"}),Object(f.jsx)("input",{className:"formInput",value:this.state.country,onChange:this.handleCountry,placeholder:"Country",id:"country",htmlFor:"country"}),Object(f.jsx)("input",{className:"formInput",placeholder:"City",value:this.state.city,onChange:this.handleCity,id:"city",htmlFor:"city"}),Object(f.jsx)("div",{className:"btn-r text-center ",children:Object(f.jsx)("button",{onClick:this.handleSubmit,id:"btn",children:"Update"})})]})]})}}]),a}(s.a.Component),ae=a(194),ne=a.n(ae),se=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),e.data||(window.location.href="/logintutor"),n.props.studentLoginVal&&(window.location.href="/"),n.state={password:"",password2:"",oldpassword:""},n.handlePassword=n.handlePassword.bind(Object(l.a)(n)),n.handlePassword2=n.handlePassword2.bind(Object(l.a)(n)),n.handleOldPassword=n.handleOldPassword.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handlePassword2",value:function(e){this.setState({password2:e.target.value})}},{key:"handleOldPassword",value:function(e){this.setState({oldpassword:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new Headers;t.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),t.append("Content-Type","application/json");var a={method:"PUT",headers:t,body:JSON.stringify({oldpassword:this.state.oldpassword,password:this.state.password,password2:this.state.password2})};localStorage.tutor_id?fetch("/api/changePassword/".concat(localStorage.getItem("tutor_id")),a).then((function(e){return e.json()})).then((function(e){e.success&&(alert(e.message),window.location.href="/tutorpanel"),alert(e.message)})):localStorage.student_id&&fetch("/api/changeStudentPassword/".concat(localStorage.getItem("student_id")),a).then((function(e){return e.json()})).then((function(e){e.success&&(alert(e.message),window.location.href="/changepassword"),alert(e.message)}))}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(L,{}),Object(f.jsx)("div",{className:"EditProfile_top d-flex mt-4",children:Object(f.jsxs)("div",{className:"EditProfile_left",children:[Object(f.jsx)("h4",{children:Object(f.jsx)("a",{href:"/tutorPanel",children:" My Profile "})}),Object(f.jsx)("h4",{children:" > "}),Object(f.jsx)("h4",{children:"Change Password"})]})}),Object(f.jsxs)("form",{id:"main-form",className:"editProfile_form",children:[Object(f.jsx)("div",{className:"eachCouseBannerRight",children:Object(f.jsx)("h1",{className:"fw-bolder",children:"Change Password"})}),Object(f.jsx)(j.a.Group,{controlId:"formFile",className:"mb-3"}),Object(f.jsx)("input",{className:"formInput",value:this.state.oldpassword,onChange:this.handleOldPassword,placeholder:"Old Password",id:"opassword",type:"password",htmlFor:"opassword"}),Object(f.jsx)("input",{className:"formInput",value:this.state.password,onChange:this.handlePassword,placeholder:"Password",id:"password",type:"password",htmlFor:"password"}),Object(f.jsx)("input",{className:"formInput",value:this.state.password2,onChange:this.handlePassword2,placeholder:"Confirm Password",type:"password",id:"confirmPassword",htmlFor:"password"}),Object(f.jsx)("div",{className:"btn-r text-center ",children:Object(f.jsx)("button",{onClick:this.handleSubmit,id:"btn",children:"Update"})})]})]})}}]),a}(s.a.Component),ie=function(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,s=[],i=1;i<=Math.ceil(a/t);i++)s.push(i);return Object(f.jsx)("nav",{children:Object(f.jsx)("ul",{className:"pagination",children:s.map((function(e){return Object(f.jsx)("li",{className:"page-item",children:Object(f.jsx)("a",{onClick:function(){return n(e)},className:"page-link",children:e})},e)}))})})},re=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleCallback=function(e){n.fetchData(e)},n.state={data:"",courses:[],currentPage:1},n.handleCallback=n.handleCallback.bind(Object(l.a)(n)),n.searchCourses=n.searchCourses.bind(Object(l.a)(n)),n.fetchData=n.fetchData.bind(Object(l.a)(n)),n.searchCourses(),n}return Object(c.a)(a,[{key:"searchCourses",value:function(){localStorage.search&&(this.setState({data:localStorage.search}),this.fetchData(localStorage.search))}},{key:"fetchData",value:function(e){var t=this;fetch("/api/tutor/getCourseByTitle/".concat(e)).then((function(e){return e.json()})).then((function(e){t.setState({courses:e.data}),console.log(t.state.courses)}))}},{key:"EachCoursePage",value:function(e){localStorage.setItem("course_id",e),window.location.href="/eachcourse"}},{key:"render",value:function(){var e=this,t=12*this.state.currentPage,a=t-12,n=this.state.courses.slice(a,t);return Object(f.jsxs)(f.Fragment,{children:[this.props.studentLoginVal&&this.props.data?Object(f.jsx)(T,{parentCallback:this.handleCallback}):Object(f.jsx)(O,{parentCallback:this.handleCallback}),Object(f.jsx)("h2",{className:"my-4 fw-bolder ",children:"Search Results"}),Object(f.jsx)("div",{className:"searchresults_cards",children:n.map((function(t){return Object(f.jsx)("div",{className:"card_body  mrg",onClick:function(){return e.EachCoursePage(t._id)},children:Object(f.jsx)(P,Object(S.a)({},t),t._id)})}))}),Object(f.jsx)(ie,{className:"Pagination_component",postsPerPage:12,totalPosts:this.state.courses.length,paginate:function(t){return e.setState({currentPage:t})}})]})}}]),a}(s.a.Component),oe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).addAppointmentCallback=function(e){var t=e.addedAppointment,a=t.day,s=t.number,i=t.time,r=t.id,o=e.addCb;n.setState({loading:!0},Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,50)}));case 2:console.log("Added appointment ".concat(s,", day ").concat(a,", time ").concat(i,", id ").concat(r)),o(a,s,i,r),n.setState({loading:!1});case 5:case"end":return e.stop()}}),e)})))),console.log(i),n.state.ids.push(r),n.state.dateTime={date:a,time:i,tutor_id:localStorage.tutor_id,isReserved:!0},n.state.SelectedDates.push(n.state.dateTime),n.state.SelectedDates.forEach((function(e){console.log(e)})),console.log(n.state.ids)},n.removeAppointmentCallback=function(e,t){var a=e.day,s=e.number,i=e.time,r=e.id;n.setState({loading:!0},Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,50)}));case 2:console.log("Removed appointment ".concat(s,", day ").concat(a,", time ").concat(i,", id ").concat(r)),t(a,s),n.setState({loading:!1});case 5:case"end":return e.stop()}}),e)}))))},e.data||(window.location.href="/logintutor"),n.props.studentLoginVal&&(window.location.href="/"),n.state={loading:!1,continuousLoading:!1,SelectedDates:[],ids:[],dateTime:{}},n.addAppointmentCallback=n.addAppointmentCallback.bind(Object(l.a)(n)),n.removeAppointmentCallback=n.removeAppointmentCallback.bind(Object(l.a)(n)),n.HandleSubmit=n.HandleSubmit.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"HandleSubmit",value:function(){var e=new Headers;e.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),e.append("Content-Type","application/json");var t={method:"POST",headers:e,body:JSON.stringify({id:this.state.ids,tutor_id:localStorage.tutor_id})};fetch("/api/setAppointment",t).then((function(e){return e.json()})).then((function(e){console.log(e),alert(e.message),window.location.href="/set"}))}},{key:"render",value:function(){var e,t=this.state,a=t.loading,n=(t.continuousLoading,new Date);n.setHours(8,0,0,0);for(var s=[],i=1,r=0;r<7;r++)s.push([]);return s.map((function(e){for(var t=0;t<48;t++)e.push({id:i,number:t,isReserved:!0}),i++})),console.log(s),s.map((function(e){e.map((function(e){e.isReserved=!1}))})),Object(f.jsxs)("div",{children:[Object(f.jsx)(L,{}),Object(f.jsxs)("div",{className:" set_container",children:[Object(f.jsx)("h3",{className:"fw-bolder my-3",children:"Select your Available Time"}),Object(f.jsx)("h5",{className:"fw-lighter mb-3",children:"All times listed are in your local timezone"}),Object(f.jsx)(q.a,(e={addAppointmentCallback:this.addAppointmentCallback,removeAppointmentCallback:this.removeAppointmentCallback,initialDay:n,days:s,maxReservableAppointments:999,alpha:!0},Object(J.a)(e,"alpha",!1),Object(J.a)(e,"visible",!0),Object(J.a)(e,"selectedByDefault",!0),Object(J.a)(e,"loading",a),Object(J.a)(e,"unitTime",18e5),e)),Object(f.jsx)("button",{className:"btn btn-primary my-3",onClick:this.HandleSubmit,children:" Set Times "})]})]})}}]),a}(s.a.Component),ce=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),e.data||(window.location.href="/logintutor"),n.props.studentLoginVal&&(window.location.href="/"),n.state={name:"",description:"",price:"",selectValue:"",imageStr:"./uploads/",img:"",tutor_id:""},n.handleName=n.handleName.bind(Object(l.a)(n)),n.handlePrice=n.handlePrice.bind(Object(l.a)(n)),n.handleDescription=n.handleDescription.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.handleFile=n.handleFile.bind(Object(l.a)(n)),n.handleSelect=n.handleSelect.bind(Object(l.a)(n)),n.getCourse=n.getCourse.bind(Object(l.a)(n)),n.getCourse(),n}return Object(c.a)(a,[{key:"getCourse",value:function(){var e=this,t=new Headers;t.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),localStorage.getItem("tutor_id")&&fetch("/api/course/getCourse/".concat(localStorage.course_id),{headers:t}).then((function(e){return e.json()})).then((function(t){e.setState({name:t.data.name,description:t.data.description,price:t.data.price,img:t.data.img})})),console.log(this.state.imageStr),console.log(this.state.img)}},{key:"handleName",value:function(e){this.setState({name:e.target.value})}},{key:"handleDescription",value:function(e){this.setState({name:e.target.value})}},{key:"handlePrice",value:function(e){this.setState({name:e.target.value})}},{key:"handleSelect",value:function(e){this.setState({selectValue:e.target.value})}},{key:"handleFile",value:function(e){this.setState({file:e.target.files[0]})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData,a=localStorage.getItem("tutor_id");t.append("file",this.state.file,this.state.file.name),t.append("name",this.state.name),t.append("description",this.state.description),t.append("price",this.state.price);var n=new Headers;n.append("Authorization","Bearer ".concat(localStorage.getItem("token")));var s={method:"PUT",headers:n,body:t};fetch("/api/tutorUpdate/".concat(a),s).then((function(e){return e.json()})).then((function(e){e.success?(alert(e.message),window.location.href="/editprofile"):alert(e.message)}))}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(L,{}),Object(f.jsx)("div",{className:"EditProfile_top d-flex mt-4",children:Object(f.jsxs)("div",{className:"EditProfile_left",children:[Object(f.jsx)("h4",{children:Object(f.jsx)("a",{href:"/tutorPanel",children:" All Courses "})}),Object(f.jsx)("h4",{children:" > "}),Object(f.jsx)("h4",{children:"Edit Course"})]})}),Object(f.jsxs)("form",{id:"main-form",className:"editProfile_form",children:[Object(f.jsx)("div",{className:"eachCouseBannerRight",children:Object(f.jsx)("img",{className:"bannerTutorPic",src:this.state.img?this.state.imageStr+this.state.img:"dp.jpg",alt:"coursepic"})}),Object(f.jsxs)(j.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(f.jsx)(j.a.Label,{children:"Choose The Course Picture"}),Object(f.jsx)(j.a.Control,{onChange:this.handleFile,type:"file"})]}),Object(f.jsx)("input",{className:"formInput",value:this.state.name,onChange:this.handleName,placeholder:"Course Name",id:"courseName",htmlFor:"courseName"}),Object(f.jsx)("input",{className:"formInput",value:this.state.description,onChange:this.handleDescription,placeholder:"Description",id:"description",htmlFor:"lastName"}),Object(f.jsx)("input",{className:"formInput",value:this.state.price,onChange:this.handlePrice,placeholder:"Price",id:"price",htmlFor:"price"}),Object(f.jsxs)(j.a.Select,{value:this.state.selectValue,onChange:this.handleSelect,"aria-label":"Default select example",className:"my-2",children:[Object(f.jsx)("option",{children:"Select Category"}),Object(f.jsx)("option",{value:"IT",children:"IT"}),Object(f.jsx)("option",{value:"Music",children:"Music"}),Object(f.jsx)("option",{value:"Sports",children:"Sports"}),Object(f.jsx)("option",{value:"Dance",children:"Dance"}),Object(f.jsx)("option",{value:"Animal Care",children:"Animal Care"})]}),Object(f.jsx)("div",{className:"btn-r text-center ",children:Object(f.jsx)("button",{onClick:this.handleSubmit,id:"btn",children:"Update"})})]})]})}}]),a}(s.a.Component);var le=function(){var e=!1,t=!1,a=[];return localStorage.token&&ne.a.verify(localStorage.token,"longer-secret-is-better",(function(n,s){n?(e=!1,localStorage.clear()):(localStorage.student_id&&(!function(){var e=localStorage.getItem("student_id"),t=new Headers;t.append("Authorization","Bearer ".concat(localStorage.getItem("token"))),fetch("/api/course/getEnrolled/".concat(e),{headers:t}).then((function(e){return e.json()})).then((function(e){e.map((function(e){e.student_id&&e.course_id&&!0})),a=e,console.log(a)}))}(),t=!0),e=!0)})),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(v.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(f.jsx)(v.a,{}),Object(f.jsxs)(y.c,{children:[Object(f.jsx)(y.a,{exact:!0,path:"/",children:Object(f.jsx)(F,{studentLoginVal:t,data:e,studentCourses:a})}),Object(f.jsx)(y.a,{path:"/loginStudent",children:Object(f.jsx)(x,{data:e})}),Object(f.jsx)(y.a,{path:"/loginTutor",children:Object(f.jsx)(ee,{data:e})}),Object(f.jsx)(y.a,{path:"/loginContainer",children:Object(f.jsx)(X,{data:e})}),Object(f.jsx)(y.a,{path:"/Signup",children:Object(f.jsx)(D,{data:e})}),Object(f.jsx)(y.a,{path:"/Signuptutor",children:Object(f.jsx)(H,{data:e})}),Object(f.jsx)(y.a,{path:"/tutorPanel",children:Object(f.jsx)(B,{studentLoginVal:t,data:e})}),Object(f.jsx)(y.a,{path:"/searchresults",children:Object(f.jsx)(re,{studentLoginVal:t,data:e})}),Object(f.jsx)(y.a,{path:"/addcourse",children:Object(f.jsx)(R,{studentLoginVal:t,data:e})}),Object(f.jsx)(y.a,{path:"/eachcourse",children:Object(f.jsx)($,{data:e})}),Object(f.jsx)(y.a,{path:"/editprofile",children:Object(f.jsx)(te,{studentLoginVal:t,data:e})}),Object(f.jsx)(y.a,{path:"/editcourse",children:Object(f.jsx)(ce,{studentLoginVal:t,data:e})}),Object(f.jsx)(y.a,{path:"/changepassword",children:Object(f.jsx)(se,{studentLoginVal:t,data:e})}),Object(f.jsx)(y.a,{path:"/set",children:Object(f.jsx)(oe,{studentLoginVal:t,data:e})})]})]})},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,349)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))},ue=a(118);r.a.render(Object(f.jsx)(ue.a,{children:Object(f.jsx)(le,{})}),document.getElementById("root")),de()}},[[339,1,2]]]);
//# sourceMappingURL=main.63e37789.chunk.js.map